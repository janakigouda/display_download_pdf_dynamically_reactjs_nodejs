{"version":3,"sources":["App.js","index.js"],"names":["App","state","name","receiptId","price1","price2","handleChange","_ref","_ref$target","target","value","_this","setState","Object","defineProperty","createAndDownloadPdf","axios","post","then","get","responseType","res","pdfBlob","Blob","data","type","saveAs","createAndPreviewPdf","_callee","regenerator_default","a","wrap","_context","prev","next","response","file","console","log","fileURL","URL","createObjectURL","window","open","catch","error","stop","this","react_default","createElement","className","placeholder","onChange","onClick","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"8RAqEeA,oNA7DbC,MAAQ,CACNC,KAAM,GACNC,UAAW,EACXC,OAAQ,EACRC,OAAQ,KAGVC,aAAe,SAAAC,GAAA,IAAAC,EAAAD,EAAGE,OAAUC,EAAbF,EAAaE,MAAOR,EAApBM,EAAoBN,KAApB,OAAiCS,EAAKC,SAALC,OAAAC,EAAA,EAAAD,CAAA,GAAiBX,EAAOQ,OAExEK,qBAAuB,WACrBC,IAAMC,KAAK,cAAeN,EAAKV,OAC5BiB,KAAK,kBAAMF,IAAMG,IAAI,YAAa,CAAEC,aAAc,WAClDF,KAAK,SAACG,GACL,IAAMC,EAAU,IAAIC,KAAK,CAACF,EAAIG,MAAO,CAAEC,KAAM,oBAE7CC,iBAAOJ,EAAS,mBAItBK,yCAAsB,SAAAC,IAAA,OAAAC,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACpBlB,IAAMC,KAAK,cAAeN,EAAKV,OAC5BiB,KAAK,kBAAMF,IAAMG,IAAI,YAAa,CAAEC,aAAc,WAQlDF,KAAK,SAAAiB,GAEJ,IAAMC,EAAO,IAAIb,KAAK,CAACY,EAASX,MAAO,CACrCC,KAAM,oBAERY,QAAQC,IAAIF,GAEZ,IAAMG,EAAUC,IAAIC,gBAAgBL,GAIpCM,OAAOC,KAAKJ,KAEbK,MAAM,SAAAC,GACLR,QAAQC,IAAIO,KAxBI,wBAAAb,EAAAc,SAAAlB,EAAAmB,iFA6BpB,OACEC,EAAAlB,EAAAmB,cAAA,OAAKC,UAAU,OACbF,EAAAlB,EAAAmB,cAAA,SAAOxB,KAAK,OAAO0B,YAAY,OAAOjD,KAAK,OAAOkD,SAAUL,KAAKzC,eACjE0C,EAAAlB,EAAAmB,cAAA,SAAOxB,KAAK,SAAS0B,YAAY,aAAajD,KAAK,YAAYkD,SAAUL,KAAKzC,eAC9E0C,EAAAlB,EAAAmB,cAAA,SAAOxB,KAAK,SAAS0B,YAAY,UAAUjD,KAAK,SAASkD,SAAUL,KAAKzC,eACxE0C,EAAAlB,EAAAmB,cAAA,SAAOxB,KAAK,SAAS0B,YAAY,UAAUjD,KAAK,SAASkD,SAAUL,KAAKzC,eACxE0C,EAAAlB,EAAAmB,cAAA,UAAQI,QAASN,KAAKhC,sBAAtB,gBACAiC,EAAAlB,EAAAmB,cAAA,UAAQI,QAASN,KAAKpB,qBAAtB,uBAxDU2B,cCFlBC,IAASC,OAAOR,EAAAlB,EAAAmB,cAACQ,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.b1de8d72.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { saveAs } from 'file-saver';\n// import { Document, Page, pdfjs } from 'react-pdf';\n\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    name: '',\n    receiptId: 0,\n    price1: 0,\n    price2: 0,\n  }\n\n  handleChange = ({ target: { value, name } }) => this.setState({ [name]: value })\n\n  createAndDownloadPdf = () => {\n    axios.post('/create-pdf', this.state)\n      .then(() => axios.get('fetch-pdf', { responseType: 'blob' }))\n      .then((res) => {\n        const pdfBlob = new Blob([res.data], { type: 'application/pdf' });\n\n        saveAs(pdfBlob, 'newPdf.pdf');\n      })\n  }\n\n  createAndPreviewPdf = async () => {\n    axios.post('/create-pdf', this.state)\n      .then(() => axios.get('fetch-pdf', { responseType: 'blob' }))\n      \n    // axios(`http://localhost:5000/fetch-pdf`, {\n    //   method: \"GET\",\n    //   responseType: \"blob\"\n    //   //Force to receive data in a Blob Format\n    // }\n    // )\n      .then(response => {\n        //Create a Blob from the PDF Stream\n        const file = new Blob([response.data], {\n          type: \"application/pdf\"\n        });\n        console.log(file);\n        //Build a URL from the file\n        const fileURL = URL.createObjectURL(file);\n        //Open the URL on new Window\n        // console.log(fileURL);\n\n        window.open(fileURL);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <input type=\"text\" placeholder=\"Name\" name=\"name\" onChange={this.handleChange} />\n        <input type=\"number\" placeholder=\"Receipt ID\" name=\"receiptId\" onChange={this.handleChange} />\n        <input type=\"number\" placeholder=\"Price 1\" name=\"price1\" onChange={this.handleChange} />\n        <input type=\"number\" placeholder=\"Price 2\" name=\"price2\" onChange={this.handleChange} />\n        <button onClick={this.createAndDownloadPdf}>Download PDF</button>\n        <button onClick={this.createAndPreviewPdf}>Preview PDF</button>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}